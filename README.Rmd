---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# t4dse - Tools for Data Science and Epidemiology

<!-- badges: start -->
<!-- badges: end -->

The goal of `t4dse` is to share a collection of tools developed during the writing of the research project at [ITM](https://www.itg.be/) / [IPK](https://instituciones.sld.cu/ipk/) / [UGent](https://www.ugent.be/). This r package contains functions and data for disease stratification and intervention evaluation. 

This will help data science experts and epidemiologist with the computation of epidemiological statistics, like the creation of endemic/epidemic channels using surveillance data.

## Installation

You can install the development version of t4dse from [Github](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("wbal/t4dse")
```

## Example

This is a basic example which shows you how to create an endemic channel for 2019 using `t4dse::endemicchannel()`. This requires a data frame containing monthly cases from 2014 to 2019:

```{r example}
library(t4dse)
## basic example code

  set.seed(1)
  x=seq(0,12*6-1)
  y=100 + 20*cos(2*pi*x/12) + rnorm(n = length(x),mean = 50,sd = 40)
  y[y<0] <- 0
  data14a19 <- data.frame( idx=seq(1,12*6), year=rep(2014:2019, each=12 ), month=rep(1:12, 6), cases=y )

  endchan2019 <- endemicchannel(data =data14a19
                           ,yearnow = 2019,period = "month"
                           ,.var = "cases"
                           ,nyears = 5)
  
 endchan2019  
```


Plotting the endemic channel:

```{r fig-endemicchannel-plot, fig.cap="Endemic Channel, 2014-2019."}
  time_month = data14a19[data14a19$year==2019,]$idx
  cases = data14a19[data14a19$year==2019,]$cases
  plot( x = time_month, y = cases 
        , ylim = c( min(endchan2019$supramin,na.rm = TRUE ),  max(endchan2019$inframax,na.rm = TRUE ))  )
  lines( time_month,y= endchan2019$supramin, col="blue" )
  lines( time_month,y= endchan2019$inframax , col="red")
  lines( time_month,y= endchan2019$median , col="orange")
```



## References

- Baldoquín Rodríguez, W.; Mirabal, M.; Van der Stuyft, P.; Gómez Padrón, T.; Fonseca, V.; Castillo, R.M.; Monteagudo Díaz, S.; Baetens, J.M.; De Baets, B.; Toledo Romaní, M.E.; Vanlerbeghe, V. . The Potential of Surveillance Data for Dengue Risk Mapping: An Evaluation of Different Approaches in Cuba. Trop. Med. Infect. Dis. 2023, 8, 230. https://doi.org/10.3390/tropicalmed8040230

- Baldoquín Rodríguez, W.; Gómez Padrón, T.; Valdés García, L.E.; Rodríguez Valdés, A.; Castillo R.M.; Del Pozo de los Reyes, D.; Baetens, J.M.; De Baets, B.; Toledo Romaní, M.E.; Vanlerbeghe, V. Effectiveness of a multicomponent dengue prevention strategy targeting transmission hotspots in Santiago de Cuba, Cuba, 2015-2020 [in review]
